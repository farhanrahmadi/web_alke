<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Xiliari extends CI_Controller {	public function __construct()	{		parent::__construct();		$this->load->model('xiliari_model');		if($this->session->userdata('login') != 'login'){			redirect(base_url('login'),'refresh');					}	}	public function error_page()	{		$this->load->view('errors/html/error_404');	}	public function index()	{		$data['admin_data'] = $this->xiliari_model->get_admin_data($this->session->userdata('id'));		$this->load->view('xiliari_home',$data);	}		public function view_dasboard()	{		$this->load->view('xiliari_dashboard');	}	public function view_admin($data = FALSE)	{		$data['count'] = $this->xiliari_model->databases_count("list_admin");		$pagination_resources = $this->pagination_resources($data,"view_admin");		$data['list_admin'] = $this->xiliari_model->get_list_admin($pagination_resources);		$data['pagination'] = $pagination_resources->init;		$this->load->view('xiliari_admin',$data);	}	public function view_application_list($data = FALSE)	{		$data['app_list'] = $this->xiliari_model->get_app_list();		$this->load->view('xiliari_app_list',$data);	}	public function process_admin_accept($data = FALSE)	{		if ($data == FALSE) {			$id = $this->input->get('id');		} else {			$id = $data['id'];		}		$permision = $this->xiliari_model->get_permission(2);		if ($permision) {			$result = $this->xiliari_model->accept_apps($id);			if ($result->success == TRUE) {				$data['message'] = $this->snackbar("success",$result->message);				// $this->log_activity(3,"view_application_list");				$this->view_application_list($data);			} else {				$data['message'] = $this->snackbar("failed",$result->message);				$this->view_application_list($data);			}					} else {			$this->error_page();		}			}	public function snackbar($status,$message)	{		return "<div id='snackbar' class='snackbar ".$status." show'>".$message."</div>".		"<script>deleteSnackbar()</script>" ;	}	public function logout()	{		session_destroy();		redirect('login','refresh');	}	public function view_admin_detail($data = FALSE)	{		if ($data) {			$id = $data['id'];		} else {			$id = $this->input->get('id');		}		$data['admin_detail'] = $this->xiliari_model->get_admin_detail($id);		$data['action_list'] = $this->xiliari_model->get_admin_activity($id);		$this->load->view('xiliari_admin_detail', $data, FALSE);	}	public function view_admin_edit($data = FALSE)	{		if ($data) {			$id = $data['id'];		} else {			$id = $this->input->get('id');		}		$data['admin_detail'] = $this->xiliari_model->get_admin_detail($id);		$data['level_list'] = $this->xiliari_model->get_admin_level_list();		$data['division_list'] =$this->xiliari_model->get_division_list();		$this->load->view('xiliari_admin_edit', $data);	}	public function process_admin_edit()	{		$input = (object) $this->input->post();		$result = $this->xiliari_model->update_admin($input);		$data['id'] = $input->admin_id;		if ($result->success == TRUE) {			$data['message'] = $this->snackbar("success",$result->message);			$this->view_admin_detail($data);		} else {			$data['message'] = $this->snackbar("failed",$result->message);			$data['bounce'] = $input;			$this->view_admin_edit($data);		}			}		private function pagination_resources($data,$controller,$ipp = 2 )	{		$resources = new stdClass();		$resources->ipp = $ipp;		$item = round($data['count'] / $resources->ipp);		if (!empty($this->input->get('p'))) {			$resources->page = $this->input->get('p');		} else {			$resources->page = 1;		}				$pagination = "<div class='x-pagination'>";		$link = $controller."?p=";		for ($i=1; $i <= $item ; $i++) { 			$pagination .= "<div class='active' onclick=\"xNavigate('$link$i')\">$i</div>";		}		$pagination .= "</div>";		$resources->init = $pagination;		return $resources;	}	public function view_order($data = FALSE)	{		$data['count'] = $this->xiliari_model->databases_count("list_order");		$pagination_resources = $this->pagination_resources($data,"view_order",5);		$data['list_order'] = $this->xiliari_model->get_list_order($pagination_resources);		$data['pagination'] = $pagination_resources->init;		$this->load->view('cms_order',$data);	}	public function view_order_detail($data = FALSE)	{		if ($data) {			$id = $data['id'];		} else {			$id = $this->input->get('id');		}		$data['order_detail'] = $this->xiliari_model->get_order_detail($id);		$this->load->view('cms_order_detail', $data, FALSE);	}	public function view_product($data = FALSE)	{		$data['count'] = $this->xiliari_model->databases_count("list_product");		$pagination_resources = $this->pagination_resources($data,"view_product",5);		$data['list_product'] = $this->xiliari_model->get_list_product($pagination_resources);		$data['pagination'] = $pagination_resources->init;		$this->load->view('cms_product',$data);	}	public function view_product_add($data = FALSE)	{		$this->load->view('cms_product_add', $data);	}	public function process_product_add()	{		$input = (object) $this->input->post();		var_dump($input);		var_dump($_FILES);	}}/* End of file Xiliari.php *//* Location: ./application/controllers/Xiliari.php */